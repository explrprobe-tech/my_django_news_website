image: python:3.11

stages:
  - test

before_script:
  - python -V
  - pip install -r requirements.txt

test_django:
  stage: test
  script:
    - echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ Django..."
    - python manage.py check
    - echo "‚úÖ Django –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—à–ª–∞!"
    
    - echo "üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤..."
    - python manage.py test
    - echo "‚úÖ –¢–µ—Å—Ç—ã –ø—Ä–æ—à–ª–∏!"
    
    - echo "üì¶ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π..."
    - python manage.py makemigrations --check --dry-run
    - echo "‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤ –ø–æ—Ä—è–¥–∫–µ!"