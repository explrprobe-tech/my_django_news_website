{% extends "news/base.html" %}

{% block title %}–ì–ª–∞–≤–Ω–∞—è - –ù–æ–≤–æ—Å—Ç–Ω–æ–π —Å–∞–π—Ç{% endblock %}

{% block content %}

<h2 class="page-title">üî• –ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏</h2>

<div style="text-align: center; margin-bottom: 30px;">
    <a href="{% url 'news_list' %}" class="add-news-btn">üì∞ –ß–∏—Ç–∞—Ç—å –≤—Å–µ –Ω–æ–≤–æ—Å—Ç–∏</a>
    {% if user.is_authenticated %}
        <a href="{% url 'add_news' %}" class="add-news-btn">‚úçÔ∏è –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å</a>
    {% endif %}
</div>

<div class="news-grid">
    {% if latest_news %}
        {% for news in latest_news %}
        <div class="news-card">
            <a href="{% url 'news_detail' news.id %}" class="news-title">{{ news.title }}</a>
            <div class="news-meta">
                <span>üìÖ {{ news.created_at|date:"d.m.Y" }}</span>
                {% if news.category %}
                <a href="{% url 'category_news' news.category.id %}" class="category-badge">{{ news.category.name }}</a>
                {% endif %}
                <span>üëÅÔ∏è {{ news.views_count }} –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤</span>
            </div>
            <p class="news-content">{{ news.content|truncatewords:30 }}</p>
            <a href="{% url 'news_detail' news.id %}" class="read-more">–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ ‚Üí</a>
        </div>
        {% endfor %}
    {% else %}
        <div class="page-news" style="text-align: center; color: rgb(255, 255, 255); font-size: 1.2rem; grid-column: 1/-1;">
            <p>–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç</p>
        </div>
    {% endif %}
</div>

{% endblock %}